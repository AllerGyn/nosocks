# эксперимент
 
```git clone -b leftright https://github.com/GossJS/nosocks.git x && cd x```

Смоделируем работу сервера веб-сокетов и клиента.

В этой ветке содержится всё необходимое, включая минималистичную реализацию ws.

Создадим два окна терминала, в которых запустим node REPL.

В левом окне загрузим сценарий с сервером: ```.load ws-server-base.js```

В правом – с примером клиента: ```.load ws-client-base.js```

Клиентами могут быть клиентские сценарии типа https://kodaktor.ru/wsclient
 
И начинаем посылать запросы справа, а слева можем смотреть список соединений, отвечать и т.д.

conn – это ассоциативный массив, в котором ключ – сокет, а значение – дата создания.

```JavaSscript
for (let i of conns.keys()) 
    i.on('message', d=>console.log(d))
```

так мы можем навесить на каждое соединение простейший обработчик прихода сообщения.
